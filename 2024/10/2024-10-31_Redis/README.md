# Redis

오늘은 **Redis**에 대해 정리해보고자 한다.   
Redis는 인메모리 데이터 구조 저장소로, 높은 성능과 다양한 데이터 구조를 지원하여 주로 **캐싱, 세션 저장, 실시간 데이터 처리** 등의 목적으로 사용된다. 데이터를 메모리에 저장하기 때문에 읽기와 쓰기 속도가 빠르며, 여러 애플리케이션에서 성능을 최적화하는 데 중요한 역할을 한다.


## 1. Redis 개요

Redis는 **Remote Dictionary Server**의 약자로, 데이터를 메모리에 저장하여 매우 빠르게 읽고 쓸 수 있는 비관계형 데이터베이스이다. Key-Value 저장소로 작동하며, String, List, Set, Hash, Sorted Set 등 다양한 데이터 구조를 지원하여 다양한 상황에 활용할 수 있다.

## 2. Redis의 주요 사용 사례

- **캐싱**  
  Redis는 데이터베이스 요청에 대한 응답을 캐싱하는 데 사용되어, 애플리케이션의 응답 속도를 크게 개선할 수 있다. 자주 조회되는 데이터를 캐시해둠으로써 데이터베이스 부하를 줄이고, 대규모 트래픽 상황에서도 안정적인 응답을 제공할 수 있다.

- **세션 관리**  
  Redis는 세션 데이터를 저장하는 데 효과적이다. 특히 분산 환경에서 세션을 중앙에서 관리할 수 있어, 서버 확장 시에도 세션을 유지할 수 있다. 예를 들어 로그인 정보를 Redis에 저장하면, 사용자가 로그인한 상태를 여러 서버에서 공유할 수 있다.

- **실시간 데이터 처리**  
  Redis는 빠른 쓰기 및 읽기 속도를 제공하므로, 실시간 데이터를 처리하는 데 적합하다. 예를 들어, 실시간 순위나 스트림 데이터와 같이 빈번한 업데이트가 필요한 데이터 처리에 자주 사용된다.

- **메시지 큐**  
  Redis의 Pub/Sub 기능을 활용하여 간단한 메시지 큐로 사용할 수 있다. 예를 들어, 애플리케이션 간 통신이 필요한 경우 Redis의 Pub/Sub 구조를 통해 메시지를 전달하고 실시간으로 이벤트를 처리할 수 있다.

## 3. Redis의 장점

- **높은 속도**  
  Redis는 데이터를 메모리에 저장하기 때문에 읽기 및 쓰기 속도가 매우 빠르다. 평균적인 응답 시간은 마이크로초 단위로, 데이터베이스에 비해 빠른 처리가 가능하다.

- **다양한 데이터 구조 지원**  
  Redis는 단순한 키-값 저장소 외에도 List, Set, Hash, Sorted Set 등의 데이터 구조를 제공하여 복잡한 데이터 처리도 유연하게 가능하다.

- **Persistence (영속성)**  
  Redis는 기본적으로 인메모리 데이터베이스이지만, 필요에 따라 데이터를 디스크에 저장하여 영구적으로 유지할 수 있다. RDB 방식과 AOF(Append Only File) 방식을 통해 데이터 복구와 지속성을 지원한다.

## 4. Redis 트러블슈팅 경험: 캐시 미스 문제

Redis를 캐싱에 사용하면서 예상치 못한 캐시 미스 문제를 경험한 적이 있다. 이는 Redis에 저장된 데이터가 만료되었거나, 데이터베이스와 Redis 간 데이터 불일치로 인해 발생했다.

- **문제 원인**  
  Redis의 TTL(Time To Live) 설정이 짧아, 캐시된 데이터가 예상보다 빨리 만료되어 데이터베이스에 직접 요청이 반복되는 상황이었다.

- **해결 방법**  
  1. **TTL 설정 조정**: Redis의 TTL을 조정하여 데이터가 더 오래 유지되도록 설정했다.
  2. **캐시 업데이트 전략 수정**: 데이터베이스에 변경이 생길 때 Redis 캐시도 즉시 업데이트하도록 하여, 데이터 일관성을 유지했다.
  3. **캐시 미스 모니터링 도입**: 캐시 미스 발생 빈도를 모니터링하여, 캐시 히트율을 지속적으로 관리하고 개선할 수 있도록 했다.

## 결론
Redis는 메모리 기반의 빠른 데이터 처리 속도와 다양한 데이터 구조 지원으로, 애플리케이션 성능 최적화에 필수적인 요소가 되었다. 특히 캐시와 세션 관리, 실시간 데이터 처리와 같은 고속 처리가 필요한 상황에서 Redis의 역할은 더욱 중요하다. 캐시 미스 문제를 해결하는 과정에서 TTL 설정, 캐시 데이터 일관성 유지의 중요성을 확인할 수 있었다.